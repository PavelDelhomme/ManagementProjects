{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header">
                    <h3 class="text-center font-weight-light my-4">Créer une tâche</h3>
                </div>
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data"
                          action="{% url 'task_create' project_id=project.pk %}">
                        {% csrf_token %}
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.name.id_for_label }}">Nom de la tâche</label>
                            {{ form.name }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.description.id_for_label }}">Description</label>
                            {{ form.description }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.assigned_to.id_for_label }}">Assignée à</label>
                            {{ form.assigned_to }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.start_date.id_for_label }}">Date de début</label>
                            {{ form.start_date }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.end_date.id_for_label }}">Date de fin</label>
                            {{ form.end_date }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.priority.id_for_label }}">Priorité</label>
                            <select name="{{ form.priority.name }}">
                                {% for value, label in form.priority.field.choices %}
                                <option value="{{ value }}">{{ label }}</option>
                                {% endfor %}
                            </select>

                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.status.id_for_label }}">Statut</label>
                            {{ form.status }}
                        </div>
                        <div class="form-group">
                            <label class="small mb-1" for="{{ form.comments.id_for_label }}">Commentaires</label>
                            {{ form.comments }}
                        </div>
                        <div class="form-group">
                            <button class="btn btn-danger" type="button" onclick="window.history.back();">Annuler
                            </button>
                            <button class="btn btn-primary" type="submit">Créer</button>
                        </div>
                        <input type="hidden" name="project_id" value="{{ project.pk }}">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .container {
        max-width: 1200px;
    }

    .mt-5 {
        margin-top: 3rem;
    }

    .row {
        display: flex;
        flex-wrap: wrap;
        margin-right: -15px;
        margin-left: -15px;
    }

    .justify-content-center {
        justify-content: center !important;
    }

    .col-lg-8 {
        position: relative;
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid rgba(0, 0, 0, 0.125);
        border-radius: 0.25rem;
    }

    .shadow-lg {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }

    .border0 {
        border: 0 !important;
    }

    .rounded-lg {
        border-radius: 0.5rem !important;
    }

    .card-header {
        padding: 0.75rem 1.25rem;
        margin-bottom: 0;
        background-color: rgba(0, 0, 0, 0.03);
        border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    }

    .text-center {
        text-align: center !important;
    }

    .font-weight-light {
        font-weight: 300 !important;
    }

    .my-4 {
        margin-top: 1.5rem !important;
        margin-bottom: 1.5rem !important;
    }

    .card-body {
        flex: 1 1 auto;
        min-height: 1px;
        padding: 1.25rem;
    }

    .form-group {
        margin-bottom: 1rem;
    }

    .small {
        font-size: 0.875rem !important;
    }

    .mb-1 {
        margin-bottom: 0.25rem !important;
    }

    .btn-primary {
        display: inline-block;
        font-weight: 400;
        color: #fff;
        text-align: center;
        vertical-align: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-color: #007bff;
        border: 1px solid #007bff;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: all 0.15s ease-in-out;
        cursor: pointer;
    }

    .btn-danger {
        display: inline-block;
        font-weight: 400;
        color: #fff;
        text-align: center;
        vertical-align: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-color: #dc3545;
        border: 1px solid #dc3545;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: all 0.15s ease-in-out;
        cursor: pointer;
    }

    /* Styles pour les champs de formulaire */
    form input[type="text"],
    form textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    /* Styles pour les boutons du formulaire */
    form button[type="submit"] {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    /* Styles pour les étiquettes de formulaire */
    form label {
        font-weight: bold;
    }

    /* Styles pour les messages d'erreur de formulaire */
    form .error-message {
        color: #dc3545;
        margin-top: 5px;
    }

    /* Styles pour les champs de formulaire actifs */
    form input:focus,
    form textarea:focus {
        border: 1px solid #007bff;
    }

    /* Styles pour les champs de formulaire désactivés */
    form input[disabled],
    form textarea[disabled] {
        background-color: #f5f5f5;
        color: #888;
        cursor: not-allowed;
    }

    /* Styles pour les champs de formulaire avec une valeur invalide */
    form input:invalid,
    form textarea:invalid {
        border-color: #dc3545;
    }

    /* Styles pour les champs de formulaire avec une valeur valide */
    form input:valid,
    form textarea:valid {
        border-color: #28a745;
    }

    /* Styles pour les champs de formulaire avec la classe form-control */
    form .form-control {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

</style>
{% endblock %}